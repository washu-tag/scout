---
# Default configuration for harbor role
# Override in inventory files as needed

# Harbor helm chart configuration
harbor_version: '1.14.2' # Harbor helm chart version
harbor_namespace: harbor
harbor_storage_size: 100Gi
harbor_admin_password: 'Harbor12345' # Override in inventory with vault-encrypted value!

# Harbor exposure configuration
# Use 'ingress' for production air-gapped deployments with dedicated domain
# Use 'nodePort' for development or when domain root is not available
harbor_expose_type: ingress # Options: 'ingress' or 'nodePort'
harbor_nodeport_https: 30443 # HTTPS NodePort when harbor_expose_type is 'nodePort'

# Computed variables for registry mirror configuration
# Use external_url if available, otherwise fall back to inventory_hostname
harbor_registry_url: "https://{{ external_url | default(inventory_hostname) }}{% if harbor_expose_type == 'nodePort' %}:{{ harbor_nodeport_https }}{% endif %}"

# Proxy cache project names
harbor_dockerhub_proxy_project: dockerhub-proxy
harbor_ghcr_proxy_project: ghcr-proxy

# TLS configuration
harbor_tls_secret_name: harbor-tls
