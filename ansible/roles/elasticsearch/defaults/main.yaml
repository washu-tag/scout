---
# Default values for Elasticsearch deployment (using ECK)

# Storage naming
elasticsearch_name: elasticsearch
elasticsearch_storage_class: '{{ elasticsearch_name }}-storage'
elasticsearch_storage_size: 10Gi

# Storage definitions for persistent volumes
elasticsearch_storage_definitions:
  - name: '{{ elasticsearch_name }}'
    size: '{{ elasticsearch_storage_size }}'
    path: '{{ elasticsearch_dir }}'
    pv_name: '{{ elasticsearch_name }}-pv'
    storage_class_name: '{{ elasticsearch_storage_class }}'

# Elasticsearch configuration (ECK)
elasticsearch_cluster_name: elasticsearch
# JVM heap size (Xms and Xmx both set to this value)
# Guidelines per https://www.elastic.co/guide/en/elasticsearch/reference/current/heap-size.html:
#   - Heap should be â‰¤ 50% of total pod memory for off-heap buffers and OS cache
#   - Set to no more than 26GB (safe limit for compressed OOPs; can be 30-31GB on some systems)
#   - Xms = Xmx prevents JVM heap resizing which can cause pauses
elasticsearch_max_heap: 512M

# Resource configuration (dev defaults - CI friendly)
# Memory: requests = 2x heap (guarantees minimum per Elastic guidelines), limits = 4x heap (allows burst)
# Memory is computed in tasks using jvm_memory_to_k8s filter (not computable here in defaults)
elasticsearch_cpu_request: 100m
elasticsearch_cpu_limit: 2
