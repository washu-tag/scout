---
# Default configuration for postgres role
# Override in inventory files as needed

# Postgres storage configuration
postgres_storage_size: 1Gi

# Resource configuration (dev defaults - CI friendly)
postgres_resources:
  requests:
    cpu: 250m
    memory: 1Gi
  limits:
    cpu: 2
    memory: 2Gi
postgres_parameters:
  max_connections: '100'
  shared_buffers: '256MB'
  effective_cache_size: '1GB'
  maintenance_work_mem: '64MB'
  checkpoint_completion_target: '0.9'
  wal_buffers: '4MB'
  default_statistics_target: '100'
  random_page_cost: '4'
  effective_io_concurrency: '1'
  work_mem: '4MB'
  huge_pages: 'try'
  min_wal_size: '1GB'
  max_wal_size: '4GB'
  max_worker_processes: '4'
  max_parallel_workers_per_gather: '2'
  max_parallel_workers: '4'
  max_parallel_maintenance_workers: '2'
