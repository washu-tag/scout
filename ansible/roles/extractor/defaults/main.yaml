---
# Default values for Extractor deployment

# Custom extractor images (override from inventory for CI/CD)
hl7log_extractor_image_repository: ghcr.io/washu-tag/hl7log-extractor
hl7log_extractor_image_tag: 1.1.0
hl7_transformer_image_repository: ghcr.io/washu-tag/hl7-transformer
hl7_transformer_image_tag: 1.1.0

# Extractor configuration
hl7log_extractor_timeout: 480
hl7log_extractor_heartbeat_timeout: 30
hl7log_extractor_concurrency: 150
hl7_transformer_timeout: 60
hl7_transformer_spark_memory: 1G

# Resource configuration (dev defaults - CI friendly)
hl7log_extractor_resources:
  requests:
    cpu: 250m
    memory: 1Gi
  limits:
    cpu: 2
    memory: 2Gi

# HL7 Transformer resources
# Memory: requests = spark_memory, limits = 2x spark_memory to account for Spark overhead
# Memory is computed in templates using jvm_memory_to_k8s filter (not computable here in defaults)
hl7_transformer_cpu_request: 250m
hl7_transformer_cpu_limit: 4

# Container paths
hl7logs_root_dir: /data

# S3 paths
hl7_path: 's3://{{ lake_bucket }}/hl7'
