{
  "viewName": "syntheticdata",
  "testQueries": [
    {
      "expectedQueryResult": {
        "type": ".ExactNumberObjectsResult",
        "expectedNumResults": 32,
        "additionalValidation": {
          "type": ".FixedColumnsValidator",
          "fixedColumns": {
            "sex": ["F"]
          }
        }
      },
      "sql": "SELECT * FROM syntheticdata WHERE sex='F'",
      "id": "sex_equals"
    },
    {
      "expectedQueryResult": {
        "type": ".ExactNumberObjectsResult",
        "expectedNumResults": 25,
        "additionalValidation": {
          "type": ".FixedColumnsValidator",
          "fixedColumns": {
            "study_instance_uid": [null],
            "version_id": ["2.3", "2.4"]
          }
        }
      },
      "sql": "SELECT * FROM syntheticdata WHERE study_instance_uid IS NULL",
      "id": "uid_missing"
    },
    {
      "expectedQueryResult": {
        "type": ".ExactNumberObjectsResult",
        "expectedNumResults": 16,
        "additionalValidation": {
          "type": ".DateComparisonValidation",
          "description": "patient born after 1990-12-31",
          "columnName": "birth_date",
          "comparisonValue": 19901231,
          "comparisonOperator": "GT"
        }
      },
      "sql": "SELECT * FROM syntheticdata WHERE YEAR(birth_date) > 1990",
      "id": "dob_greater"
    },
    {
      "expectedQueryResult": {
        "type": ".ExactNumberObjectsResult",
        "expectedNumResults": 17,
        "additionalValidation": {
          "type": ".FixedColumnsValidator",
          "fixedColumns": {
            "orc_2_placer_order_number": [null],
            "version_id": ["2.4"]
          }
        }
      },
      "sql": "SELECT * FROM syntheticdata WHERE orc_2_placer_order_number IS NULL",
      "id": "placer_order_missing"
    },
    {
      "expectedQueryResult": {
        "type": ".ExactNumberObjectsResult",
        "expectedNumResults": 6,
        "additionalValidation": {
          "type": ".FixedColumnsValidator",
          "fixedColumns": {
            "sex": ["F"],
            "race": ["B", "BLACK"]
          }
        }
      },
      "sql": "SELECT * FROM syntheticdata WHERE sex='F' AND race IN ('BLACK', 'B')",
      "id": "sex_and_race_list_inclusion"
    },
    {
      "expectedQueryResult": {
        "type": ".GroupedAggregationResult",
        "result": {
          "MR": {
            "male_count": 4,
            "female_count": 5,
            "total_count": 9
          },
          "XR": {
            "male_count": 11,
            "female_count": 7,
            "total_count": 18
          },
          "MG": {
            "male_count": 0,
            "female_count": 7,
            "total_count": 7
          },
          "US": {
            "male_count": 6,
            "female_count": 2,
            "total_count": 8
          },
          "IR": {
            "male_count": 1,
            "female_count": 1,
            "total_count": 2
          },
          "": {
            "male_count": 4,
            "female_count": 5,
            "total_count": 9
          },
          "PET": {
            "male_count": 1,
            "female_count": 3,
            "total_count": 4
          },
          "NM": {
            "male_count": 1,
            "female_count": 2,
            "total_count": 3
          }
        },
        "primaryColumnName": "primary_modality",
        "secondaryColumns": ["male_count", "female_count", "total_count"]
      },
      "sql": "SELECT modality as primary_modality, COUNT(CASE WHEN sex='M' THEN 1 END) as male_count, COUNT(CASE WHEN sex='F' THEN 1 END) as female_count, COUNT(*) as total_count FROM syntheticdata GROUP BY modality ORDER BY modality",
      "id": "modality_grouping"
    },
    {
      "expectedQueryResult": {
        "type": ".GroupedAggregationResult",
        "result": {
          "": {
            "total_count": 6
          },
          "F": {
            "total_count": 9
          },
          "Wet Read": {
            "total_count": 8
          },
          "Prelim": {
            "total_count": 14
          },
          "Final": {
            "total_count": 19
          },
          "P": {
            "total_count": 4
          }
        },
        "primaryColumnName": "report_status",
        "secondaryColumns": ["total_count"]
      },
      "sql": "SELECT report_status, COUNT(*) as total_count FROM syntheticdata GROUP BY report_status ORDER BY report_status",
      "id": "report_status_count"
    },
    {
      "expectedQueryResult": {
        "type": ".ExactRowsResult",
        "uniqueIdColumnName": "message_control_id",
        "rowAssertions": {
          "2.25.285530341412999745616697306930872259252": {
            "version_id": "2.3",
            "mpi": "5065225",
            "sending_facility": "ABCHOSP",
            "service_identifier": "OMHEADWWO",
            "sex": "F",
            "zip_or_postal_code": "61111",
            "country": "USA",
            "orc_2_placer_order_number": null,
            "obr_2_placer_order_number": "2559497",
            "patient_age": "64",
            "principal_result_interpreter": "DEREK STEWART",
            "assistant_result_interpreter": "[]",
            "technician": "[JILL LYNCH]",
            "orc_3_filler_order_number": null,
            "obr_3_filler_order_number": "579131048",
            "service_name": "MRI BRAIN W W/O CONTRAST",
            "service_coding_system": "UNKDEV",
            "diagnostic_service_id": "MR",
            "study_instance_uid": "2.25.180992915962763398860039796156397778949",
            "birth_date": "1961-05-19",
            "message_dt": "2025-08-11T19:53:36+00:00",
            "requested_dt": "2025-08-11T17:36:06+00:00",
            "results_report_status_change_dt": "2025-08-11T19:53:36+00:00",
            "report_status": "Wet Read",
            "modality": "MR",
            "year": "2025"
          },
          "2.25.140767902506776501128394597405454897629": {
            "version_id": "2.4",
            "mpi": null,
            "sending_facility": "ABCHOSP",
            "service_identifier": "BED70250",
            "sex": "M",
            "zip_or_postal_code": "61111",
            "country": "USA",
            "orc_2_placer_order_number": null,
            "obr_2_placer_order_number": "8722716",
            "patient_age": "34",
            "principal_result_interpreter": "TRISHA BRADLEY",
            "assistant_result_interpreter": "[PATRICE HOOD]",
            "technician": "[]",
            "orc_3_filler_order_number": null,
            "obr_3_filler_order_number": "579131057",
            "service_name": "70250 Skull < 4 views",
            "service_coding_system": "UNKDEV",
            "diagnostic_service_id": "DX",
            "study_instance_uid": "2.25.91146717501473082253024681065442880316",
            "birth_date": "1991-02-08",
            "message_dt": "2025-08-11T07:58:05+00:00",
            "requested_dt": "2025-08-11T06:08:04+00:00",
            "results_report_status_change_dt": "2025-08-11T07:58:05+00:00",
            "report_status": "Final",
            "modality": "DX",
            "year": "2025"
          },
          "2.25.173370773130777226104136482497788096114": {
            "version_id": "2.7",
            "mpi": null,
            "sending_facility": "ABCHOSP",
            "service_identifier": "BED72020",
            "sex": "F",
            "zip_or_postal_code": "61111",
            "country": "USA",
            "orc_2_placer_order_number": "2626830",
            "obr_2_placer_order_number": "2626830",
            "patient_age": "79",
            "principal_result_interpreter": null,
            "assistant_result_interpreter": "[GLORIA BARRETT]",
            "technician": "[MUHAMMAD HARRIS]",
            "orc_3_filler_order_number": "579131059",
            "obr_3_filler_order_number": "579131059",
            "service_name": "72020 Spine Single View",
            "service_coding_system": "UNKDEV",
            "diagnostic_service_id": "DX",
            "study_instance_uid": "2.25.140241701221109794637376560146010874081",
            "birth_date": "1945-11-08",
            "message_dt": "2025-08-07T08:17:34+00:00",
            "requested_dt": "2025-08-07T06:09:16+00:00",
            "results_report_status_change_dt": "2025-08-07T08:17:34+00:00",
            "report_status": "Final",
            "modality": "DX",
            "year": "2025"
          }
        },
        "columnTypes": [
          {
            "type": ".LocalDateType",
            "columnName": "birth_date"
          },
          {
            "type": ".InstantType",
            "columnName": "message_dt"
          },
          {
            "type": ".InstantType",
            "columnName": "requested_dt"
          },
          {
            "type": ".InstantType",
            "columnName": "results_report_status_change_dt"
          },
          {
            "type": ".IntegerType",
            "columnName": "year"
          },
          {
            "type": ".IntegerType",
            "columnName": "patient_age"
          }
        ]
      },
      "sql": "SELECT * FROM syntheticdata WHERE message_control_id IN ('2.25.285530341412999745616697306930872259252', '2.25.140767902506776501128394597405454897629', '2.25.173370773130777226104136482497788096114')",
      "id": "extended_metadata"
    },
    {
      "expectedQueryResult": {
        "type": ".ExactRowsResult",
        "uniqueIdColumnName": "message_control_id",
        "rowAssertions": {
          "2.25.170567254119791775572180622239579256425": {
            "abc_mr": "ABC5778824",
            "epic_mrn": "EPIC3592996",
            "legacy_patient_id_un": null,
            "empi_mr": "5065225",
            "patient_ids": "[{ABC5778824, ABC, MR, }, {EPIC3592996, EPIC, MRN, }, {5065225, EMPI, MR, }]"
          },
          "2.25.117842342791583941997811256024068928741": {
            "abc_mr": "ABC5778824",
            "epic_mrn": "EPIC3592996",
            "legacy_patient_id_un": null,
            "empi_mr": null,
            "patient_ids": "[{ABC5778824, ABC, MR, }, {EPIC3592996, EPIC, MRN, }]"
          },
          "2.25.285530341412999745616697306930872259252": {
            "abc_mr": null,
            "epic_mrn": null,
            "legacy_patient_id_un": "6643145",
            "empi_mr": null,
            "patient_ids": "[{6643145, , , UN}]"
          },
          "2.25.190487472724592130368255185378533989659": {
            "abc_mr": "ABC5778824",
            "epic_mrn": "EPIC3592996",
            "legacy_patient_id_un": null,
            "empi_mr": "5065225",
            "patient_ids": "[{ABC5778824, ABC, MR, }, {EPIC3592996, EPIC, MRN, }, {5065225, EMPI, MR, }]"
          },
          "2.25.173433096121961554953028735334500204225": {
            "abc_mr": "ABC5778825",
            "epic_mrn": "EPIC3592997",
            "legacy_patient_id_un": null,
            "empi_mr": null,
            "patient_ids": "[{ABC5778825, ABC, MR, }, {EPIC3592997, EPIC, MRN, }]"
          },
          "2.25.88398791963979561583047709015788706214": {
            "abc_mr": "ABC5778825",
            "epic_mrn": "EPIC3592997",
            "legacy_patient_id_un": null,
            "empi_mr": null,
            "patient_ids": "[{ABC5778825, ABC, MR, }, {EPIC3592997, EPIC, MRN, }]"
          },
          "2.25.135213526615635223007408289791786386690": {
            "abc_mr": "ABC5778825",
            "epic_mrn": "EPIC3592997",
            "legacy_patient_id_un": null,
            "empi_mr": null,
            "patient_ids": "[{ABC5778825, ABC, MR, }, {EPIC3592997, EPIC, MRN, }]"
          },
          "2.25.7903864533377417911200055190433831864": {
            "abc_mr": "ABC5778826",
            "epic_mrn": "EPIC3592998",
            "legacy_patient_id_un": null,
            "empi_mr": null,
            "patient_ids": "[{ABC5778826, ABC, MR, }, {EPIC3592998, EPIC, MRN, }]"
          },
          "2.25.209977400235891822210514489168815054654": {
            "abc_mr": "ABC5778826",
            "epic_mrn": "EPIC3592998",
            "legacy_patient_id_un": null,
            "empi_mr": null,
            "patient_ids": "[{ABC5778826, ABC, MR, }, {EPIC3592998, EPIC, MRN, }]"
          },
          "2.25.291509636681853669214810446981265065104": {
            "abc_mr": "ABC5778826",
            "epic_mrn": "EPIC3592998",
            "legacy_patient_id_un": null,
            "empi_mr": null,
            "patient_ids": "[{ABC5778826, ABC, MR, }, {EPIC3592998, EPIC, MRN, }]"
          },
          "2.25.82063843799456357256804791012187692279": {
            "abc_mr": "ABC5778827",
            "epic_mrn": "EPIC3592999",
            "legacy_patient_id_un": null,
            "empi_mr": "5065228",
            "patient_ids": "[{ABC5778827, ABC, MR, }, {EPIC3592999, EPIC, MRN, }, {5065228, EMPI, MR, }]"
          },
          "2.25.140767902506776501128394597405454897629": {
            "abc_mr": "ABC5778827",
            "epic_mrn": "EPIC3592999",
            "legacy_patient_id_un": null,
            "empi_mr": null,
            "patient_ids": "[{ABC5778827, ABC, MR, }, {EPIC3592999, EPIC, MRN, }]"
          },
          "2.25.99639347790786896284655289079815332420": {
            "abc_mr": null,
            "epic_mrn": null,
            "legacy_patient_id_un": "6643148",
            "empi_mr": null,
            "patient_ids": "[{6643148, , , UN}]"
          },
          "2.25.173370773130777226104136482497788096114": {
            "abc_mr": "ABC5778828",
            "epic_mrn": "EPIC3593000",
            "legacy_patient_id_un": null,
            "empi_mr": null,
            "patient_ids": "[{ABC5778828, ABC, MR, }, {EPIC3593000, EPIC, MRN, }]"
          }
        },
        "columnTypes": []
      },
      "sql": "SELECT * FROM syntheticdata WHERE (abc_mr IN ('ABC5778824', 'ABC5778824', 'ABC5778824', 'ABC5778825', 'ABC5778825', 'ABC5778825', 'ABC5778826', 'ABC5778826', 'ABC5778826', 'ABC5778827', 'ABC5778827', 'ABC5778828') OR legacy_patient_id_un IN ('6643145', '6643148'))",
      "id": "patient_id"
    },
    {
      "expectedQueryResult": {
        "type": ".ExactNumberObjectsResult",
        "expectedNumResults": 60,
        "additionalValidation": null
      },
      "sql": "SELECT * FROM syntheticdata",
      "id": "all"
    },
    {
      "expectedQueryResult": {
        "type": ".ExactNumberObjectsResult",
        "expectedNumResults": 0,
        "additionalValidation": null
      },
      "sql": "SELECT * FROM syntheticdata WHERE message_dt IS NULL",
      "id": "null_message_dt"
    },
    {
      "expectedQueryResult": {
        "type": ".ExactRowsResult",
        "uniqueIdColumnName": "message_control_id",
        "rowAssertions": {
          "2.25.117842342791583941997811256024068928741": {
            "report_text": "WILLIAM RODRIGUEZ, M.D.\n\n\n\n********FINAL REPORT********\n\n\n \nACC#  Date Time  Exam\n\n\n579131047 Aug 14 2025 05:25PM BED72020 72020 Spine Single View\nEXAMINATION: Spine X-ray focusing on the lumbar region.\n\nFINDINGS:\nInserted statement for testing with special chars: ±60%÷\nLumbar spine alignment is within normal limits. Mild degenerative\nchanges including decreased disc height at L4-L5 and marginal\nosteophyte formation. No acute fracture or dislocation identified.\nFacet joints appear preserved.\n\n\nIMPRESSION:\nMild lumbar spondylosis consistent with degenerative disc disease.\nRequested By: Hood,Patrice J. M.D.\n\nDictated By: William Rodriguez, M.D. on Aug 14 2025 05:25PM\n\nThis document has been electronically signed by: William Rodriguez,\nM.D. on Aug 14 2025 05:25PM\n \n\n\n \n\n\n \n579131047^UK^ZB"
          },
          "2.25.285530341412999745616697306930872259252": {
            "report_text": "EXAMINATION: MRI of the brain with and without contrast for\nneurologic evaluation.\nFINDINGS:\nNo intracranial mass, hemorrhage, or acute infarct is visualized.\nVentricles are normal in size and configuration without signs of\nhydrocephalus. White matter signal appears slightly increased in\nperiventricular regions consistent with chronic small vessel ischemic\nchanges. No abnormal meningeal enhancement.\n\n\nIMPRESSION:\nNo acute intracranial abnormality. Mild chronic microvascular\nischemic changes noted."
          },
          "2.25.140767902506776501128394597405454897629": {
            "report_text": "TRISHA BRADLEY, M.D.\n\n\n\n********FINAL REPORT********\n\n\n \nACC#  Date Time  Exam\n\n\n579131057 Aug 11 2025 07:58AM BED70250 70250 Skull < 4 views\nEXAMINATION: Skull X-ray to assess for cranial injury.\n\nFINDINGS:\nRadiographs show no evidence of linear or depressed skull fractures.\nSkull contours are intact, and paranasal sinuses are clear. No\nintracranial calcifications noted.\n\n\nIMPRESSION:\nNormal skull radiograph without acute bony abnormality.\nRequested By: Stewart,Derek J. M.D.\n\nDictated By: Trisha Bradley, M.D. on Aug 11 2025 07:58AM\n\nThis document has been electronically signed by: Trisha Bradley, M.D.\non Aug 11 2025 07:58AM\n \n\n\n \n\n\n \n579131057^UK^ZB"
          },
          "2.25.173370773130777226104136482497788096114": {
            "report_text": "EXAMINATION: Conventional X-ray imaging of the thoracolumbar spine.\nFINDINGS:\nThe thoracolumbar spine reveals multilevel degenerative disc disease\ncharacterized by reduced intervertebral disc height at T12-L1 and\nL1-L2 levels. Prominent anterior osteophyte formation is noted\nextending from T11 through L3 vertebral bodies. Vertebral body\nheights are maintained without evidence of acute fracture or lytic\nlesions. There is mild posterior facet joint hypertrophy bilaterally\nat L2-L3. No focal spinal canal stenosis is evident on lateral\nprojections, and the paravertebral soft tissue shadows are\nunremarkable.\n\n\nIMPRESSION:\nMultilevel degenerative spondylosis with disc space narrowing and\nprominent osteophyte complexes, compatible with spondylosis of the\nthoracolumbar spine. No acute osseous abnormality or fracture is\nidentified.\nDictated by: Gloria Barrett Interpreter, M.D."
          }
        },
        "columnTypes": []
      },
      "sql": "SELECT report_text FROM syntheticdata WHERE message_control_id IN ('2.25.117842342791583941997811256024068928741', '2.25.285530341412999745616697306930872259252', '2.25.140767902506776501128394597405454897629', '2.25.173370773130777226104136482497788096114')",
      "id": "report_text"
    }
  ]
}
